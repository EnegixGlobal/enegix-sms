{% extends 'base2.html' %}
{% load static %}
{% block content %}

<div class="container mt-4 mb-5">

    <div class="card shadow-lg border-0 rounded-4 overflow-hidden">

        <!-- HEADER -->
        <div class="card-header bg-gradient-primary text-white py-3">
            <h4 class="mb-0 fw-bold" style="color: black;">
                ‚úè Edit Teacher Details
            </h4>
        </div>

        <!-- BODY -->
        <div class="card-body bg-light p-4">

            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="row g-4">

                    <!-- BASIC INFO -->
                    <div class="col-md-12">
                        <h6 class="text-primary fw-bold border-bottom pb-2">
                            üë§ Personal Information
                        </h6>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Full Name</label>
                        <input type="text" name="name" class="form-control rounded-3"
                               value="{{ teacher.name }}" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Date of Birth</label>
                        <input type="date" name="dob" class="form-control rounded-3"
                               value="{{ teacher.dob|date:'Y-m-d' }}" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Gender</label>
                        <select name="gender" class="form-select rounded-3" required>
                            <option value="Male" {% if teacher.gender == "Male" %}selected{% endif %}>Male</option>
                            <option value="Female" {% if teacher.gender == "Female" %}selected{% endif %}>Female</option>
                            <option value="Other" {% if teacher.gender == "Other" %}selected{% endif %}>Other</option>
                        </select>
                    </div>

                    <!-- CONTACT -->
                    <div class="col-md-12 mt-3">
                        <h6 class="text-primary fw-bold border-bottom pb-2">
                            üìû Contact Details
                        </h6>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Phone</label>
                        <input type="text" name="phone" class="form-control rounded-3"
                               value="{{ teacher.phone }}" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Email</label>
                        <input type="email" name="email" class="form-control rounded-3"
                               value="{{ teacher.email }}">
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Emergency Contact</label>
                        <input type="text" name="emergency_contact" class="form-control rounded-3"
                               value="{{ teacher.emergency_contact }}">
                    </div>

                    <!-- PROFESSIONAL -->
                    <div class="col-md-12 mt-3">
                        <h6 class="text-primary fw-bold border-bottom pb-2">
                            üéì Professional Details
                        </h6>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Qualification</label>
                        <input type="text" name="qualification" class="form-control rounded-3"
                               value="{{ teacher.qualification }}" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Experience (Years)</label>
                        <input type="number" name="experience" class="form-control rounded-3"
                               value="{{ teacher.experience }}" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Employee ID</label>
                        <input type="text" name="employee_id" class="form-control rounded-3"
                               value="{{ teacher.employee_id }}" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Joining Date</label>
                        <input type="date" name="joining_date" class="form-control rounded-3"
                               value="{{ teacher.joining_date|date:'Y-m-d' }}" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Salary</label>
                        <input type="number" step="0.01" name="salary" class="form-control rounded-3"
                               value="{{ teacher.salary }}" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label fw-semibold">Status</label>
                        <select name="status" class="form-select rounded-3">
                            <option value="Active" {% if teacher.status == "Active" %}selected{% endif %}>Active</option>
                            <option value="Inactive" {% if teacher.status == "Inactive" %}selected{% endif %}>Inactive</option>
                        </select>
                    </div>

                    <!-- PHOTO -->
                    <div class="col-md-12 mt-3">
                        <h6 class="text-primary fw-bold border-bottom pb-2">
                            üñº Profile Photo
                        </h6>

                        <div class="d-flex align-items-center gap-4">
                            {% if teacher.photo %}
                                <img src="{{ teacher.photo.url }}" class="rounded-circle border"
                                     width="90" height="90">
                            {% else %}
                                <img src="{% static 'img/no-profile.png' %}" class="rounded-circle border"
                                     width="90" height="90">
                            {% endif %}

                            <input type="file" name="photo" class="form-control rounded-3">
                        </div>
                    </div>

                    <!-- ACTION BUTTONS -->
                    <div class="col-md-12 text-end mt-4">
                        <a href="{% url 'all_teachers' %}" class="btn btn-outline-secondary rounded-pill px-4">
                            ‚¨Ö Back
                        </a>
                        <button class="btn btn-primary rounded-pill px-5 ms-2">
                            üíæ Update Teacher
                        </button>
                    </div>

                </div>
            </form>

        </div>
    </div>
</div>

{% endblock %}
