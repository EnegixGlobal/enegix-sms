{% extends 'base2.html' %}
{% block content %}

<style>
  .report-card {
    border-radius: 20px;
    border: none;
  }

  .report-header {
    background: linear-gradient(135deg, #198754, #20c997);
    color: #fff;
    border-radius: 20px 20px 0 0;
    padding: 22px;
  }

  .info-box {
    background: #f8f9fa;
    border-radius: 14px;
    padding: 15px;
    text-align: center;
  }

  .info-box h6 {
    margin-bottom: 4px;
    font-weight: 600;
  }

  .result-table th {
    background-color: #e9ecef;
    text-align: center;
    font-weight: 700;
  }

  .result-table td {
    text-align: center;
    vertical-align: middle;
  }

  .summary-box {
    border-radius: 16px;
    padding: 20px;
    color: #fff;
  }

  .percentage-box {
    background: linear-gradient(135deg, #0d6efd, #6610f2);
  }

  .grade-box {
    background: linear-gradient(135deg, #fd7e14, #ffc107);
    color: #212529;
  }
</style>

<div class="container mt-4">

  <div class="card report-card shadow-lg">

    <!-- Header -->
    <div class="report-header text-center">
      <h4 class="mb-1">ðŸ“„ Report Card</h4>
      <small>Academic Performance Summary</small>
    </div>

    <!-- Student & Exam Info -->
    <div class="card-body p-4">

      <div class="row mb-4">
        <div class="col-md-6 mb-3">
          <div class="info-box shadow-sm">
            <h6>Student Name</h6>
            <div class="fw-bold">{{ student.name }}</div>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <div class="info-box shadow-sm">
            <h6>Exam</h6>
            <div class="fw-bold">{{ exam.name }}</div>
          </div>
        </div>
      </div>

      <!-- Result Table -->
      <div class="table-responsive">
        <table class="table table-bordered table-hover result-table">
          <thead>
            <tr>
              <th>Subject</th>
              <th>Marks</th>
            </tr>
          </thead>
          <tbody>
            {% for r in results %}
            <tr>
              <td>{{ r.subject }}</td>
              <td class="fw-semibold">{{ r.marks }}</td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="2" class="text-center text-muted">
                No results available
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <!-- Summary -->
      <div class="row mt-4">
        <div class="col-md-6 mb-3">
          <div class="summary-box percentage-box text-center shadow">
            <h6>Percentage</h6>
            <h3 class="mb-0">{{ percentage }}%</h3>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <div class="summary-box grade-box text-center shadow">
            <h6>Grade</h6>
            <h3 class="mb-0">{{ grade }}</h3>
          </div>
        </div>
      </div>

      <!-- Back Button -->
      <div class="text-end mt-4">
        <a href="javascript:history.back()" class="btn btn-secondary rounded-pill px-4">
          â¬… Back
        </a>
      </div>

    </div>
  </div>

</div>

{% endblock %}
